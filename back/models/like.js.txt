// Imports
const { DataTypes } = require('sequelize')
const DB = require('../db.config')

// Définition du modèle Message
const Like = DB.define('Like', {
    id: {
        type: DataTypes.INTEGER(10),
        primaryKey: true,
        autoIncrement: true
    },
    user_id: {
        allowNull: false,
        type: DataTypes.INTEGER(10)
    },
    likes: {
        allowNull: false,
        type: DataTypes.NUMBER,
        defaultValue: 0
    },
    dislikes: {
        allowNull: false,
        type: DataTypes.NUMBER,
        defaultValue: 0
    },
    usersLiked: {
        allowNull: false,
        type: DataTypes.ARRAY,
        defaultValue: []
    },
    usersDisliked: {
        allowNull: false,
        type: DataTypes.ARRAY,
        defaultValue: []
    }
})

// Synchronisation du modèles
Like.sync()
    .then(() => { console.log('LIKE DB SYNC OK') })
// Like.sync({ force: true })
// Like.sync({ alter: true })

module.exports = Like